(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{67:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r,c=n(0),i=n.n(c),a=n(23),s=n.n(a),o=n(9),u=(n(67),n(25)),j=n(6),p=n(3),d=n(4),l=Object(p.b)(r||(r=Object(d.a)(["\n  body {\n    background: ",";\n    color: ",";\n    transition: all 0.50s linear; \n  }\n  h1, h2 {\n    color: ",";\n  }\n  input {\n    background-color: ",";\n    color: ",";\n    border: 2px solid black;\n  }\n  "])),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.titleColor}),(function(e){return e.theme.inputBcg}),(function(e){return e.theme.text})),b={body:"#010101",text:"#ffffff",titleColor:"#5f9ea0",inputBcg:"#b0c4de"},f={body:"#ffffff",text:"#000000"},h="#ed8224",O=n(18);function x(e){return function(t){t($(e))}}var m,v,g,y,w,C,k,D,S,T,E,U,M,I,F,_,N,A,L,B,R,W,V,P,Y,z,H,J,q,K,X,G,Q=function(e){return{type:"ADD_CITY",city:e}},Z=function(e){return{type:"REMOVE_CITY",id:e}},$=function(e){return{type:"SET_UNIT",unit:e}},ee=function(e){return{type:"SET_MODE",isDark:e}},te=function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var c="expires="+r.toUTCString();document.cookie=e+"="+t+"; "+c},ne=n(1),re=p.c.img(m||(m=Object(d.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n  width: 20px;\n  height: 20px;\n  margin-left: 10px;\n"]))),ce={setUnit:x},ie=Object(o.b)((function(e){return{tempUnit:e.appStore.tempUnit,isDark:e.appStore.isDark}}),ce)((function(e){var t=Object(c.useState)(null),n=Object(O.a)(t,2),r=n[0],i=n[1],a="tempUnit";Object(c.useEffect)((function(){var t=e.tempUnit;i(t)}),[e,r]);var s="c"===r,o=!e.navbar||e.isDark?"-white":"",u=s?"../assets/images/celsius".concat(o,".png"):"../assets/images/fahrenheit".concat(o,".png"),j=s?"Change to Fahrenheit":"Change to Celsius";return Object(ne.jsx)(re,{src:u,title:j,alt:"Toggle Celsius / Fahrenheit",onClick:function(){"c"===r?(te(a,"f",60),e.setUnit("f")):(te(a,"c",60),e.setUnit("c"))}})})),ae=p.c.div(v||(v=Object(d.a)(["\n  max-width: 1440px;\n  padding: 0 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: auto;\n"]))),se=p.c.h1(g||(g=Object(d.a)(["\n  color: ",";\n"])),h),oe=p.c.div(y||(y=Object(d.a)(["\n  margin: 0 20px;\n"]))),ue=p.c.div(w||(w=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-arround;\n"]))),je=p.c.img(C||(C=Object(d.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n"]))),pe={setMode:function(e){return function(t){t(ee(e))}}},de=Object(o.b)((function(e){return{tempUnit:e.appStore.tempUnit,isDark:e.appStore.isDark}}),pe)((function(e){var t="isDark",n=e.isDark,r=n?"../assets/images/darkMode2.png":"../assets/images/lightMode.png",c=n?"Change to Bright Mode":"Change to Dark Mode";return Object(ne.jsxs)(ae,{children:[Object(ne.jsx)(se,{children:"AbraKaWeather"}),Object(ne.jsxs)(ue,{children:[Object(ne.jsx)(oe,{children:Object(ne.jsx)(u.b,{to:"/",children:"HOME"})}),Object(ne.jsx)(oe,{children:Object(ne.jsx)(u.b,{to:"/favourites",children:"MY CITIES"})}),Object(ne.jsx)(oe,{children:Object(ne.jsx)(ie,{navbar:!0})}),Object(ne.jsx)(je,{src:r,title:c,alt:"Toggle Bright / Dark",onClick:function(){n?(te(t,!1,60),e.setMode(!1)):(te(t,!0,60),e.setMode(!0))}})]})]})})),le=n(5),be=n.n(le),fe=n(14),he=n(109),Oe=n(110),xe=n(108),me=n(28),ve=n.n(me),ge=function(){var e=Object(fe.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="api/cities/"+t,e.next=4,ve.a.get("".concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("City Query Failed"),console.dir(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(fe.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="api/currentWeather/"+t,e.next=4,ve.a.get("".concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("CurrentWeather Request Failed"),console.dir(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(fe.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="api/forecast/"+t,e.next=4,ve.a.get("".concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("Forecast Request Failed"),console.dir(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(fe.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="api/f/forecast/"+t,e.next=4,ve.a.get("".concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("Farenheit Forecast Request Failed"),console.dir(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ke=n(31),De=(n(90),function(){return Object(ne.jsx)(ke.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,className:"toast-alert"})}),Se=function(e){return ke.b.error("Server Error: can not load ".concat(e,". Please try again later"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Te=p.c.div(k||(k=Object(d.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ee=p.c.p(D||(D=Object(d.a)(["\n  font-weight: bold;\n  font-size: 18px;\n  color: white;\n"]))),Ue=function(e){return Object(ne.jsx)(Te,{children:e.temp&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Ee,{children:e.temp}),Object(ne.jsx)(ie,{})]})})},Me=p.c.img(S||(S=Object(d.a)(["\n  width: 100px;\n"]))),Ie=function(e){var t=e.idx,n=t<10?"0"+t:t;return Object(ne.jsx)(Me,{src:"../assets/images/".concat(n,"-s.png")})},Fe="\n  display: flex;\n  align-items: center;\n",_e=p.c.div(T||(T=Object(d.a)(["\n  color: white;\n  max-height: 50vh;\n  border-radius: 8px;\n"]))),Ne=p.c.div(E||(E=Object(d.a)(["\n  ","\n  justify-content: space-around;\n"])),Fe),Ae=p.c.img(U||(U=Object(d.a)(["\n  width: 30px;\n  height: 30px;\n  ",";\n"])),"&:hover {\n  cursor: pointer;\n}"),Le=p.c.h2(M||(M=Object(d.a)(["\n  color: white;\n"]))),Be=p.c.div(I||(I=Object(d.a)(["\n  ","\n  justify-content: space-around;\n"])),Fe),Re=p.c.p(F||(F=Object(d.a)(["\n  font-weight: bold;\n  font-size: 18px;\n  color: white;\n  padding-bottom: 20px;\n"]))),We={removeCity:function(e){return function(t){t(Z(e))}},addCity:function(e){return function(t){t(Q(e))}},setUnit:x},Ve=Object(o.b)((function(e){return{tempUnit:e.appStore.tempUnit,favCities:e.appStore.favCities}}),We)((function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),r=n[0],i=n[1],a=e.city&&e.favCities.some((function(t){return t.id===e.city.id}));Object(c.useEffect)((function(){e.city&&e.city.id&&function(){var t=Object(fe.a)(be.a.mark((function t(){var n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ye(e.city.id);case 3:n=t.sent,i(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Se("current weather conditions for ".concat(e.city.name));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),Object(c.useEffect)((function(){var t=JSON.stringify(e.favCities);te(s,t,60)}),[e.favCities]);var s="favCities",o=r&&r[0]?r[0].isDayTime:null,u=a?"../assets/images/red-heart.png":"../assets/images/outlined-heart_white.png",j=a?"Remove from favourites":"Add to favourites",p=o?"#174385":"#344463";return Object(ne.jsxs)(_e,{style:{backgroundColor:p},children:[e.city&&e.city.name&&Object(ne.jsxs)(Ne,{children:[Object(ne.jsx)(Ae,{src:u,title:j,alt:"",onClick:Object(fe.a)(be.a.mark((function t(){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a?e.removeCity(e.city.id):e.addCity(e.city);case 1:case"end":return t.stop()}}),t)})))}),Object(ne.jsx)(Le,{children:e.city.name})]}),r&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(Be,{children:[Object(ne.jsx)(Ue,{temp:function(){if(r&&r[0]){var t="c"===e.tempUnit?r[0].Temperature.Metric.Value:r[0].Temperature.Imperial.Value;return Math.round(t)}return null}()}),r[0]&&r[0].WeatherIcon&&Object(ne.jsx)(Ie,{idx:r[0].WeatherIcon})]}),r[0]&&r[0].WeatherText&&Object(ne.jsx)(Re,{children:r[0].WeatherText})]}),Object(ne.jsx)(De,{})]})})),Pe=n(53),Ye=n.n(Pe),ze=p.c.h2(_||(_=Object(d.a)(["\n  color: ",";\n"])),h),He=p.c.div(N||(N=Object(d.a)(["\n  background-color: #61dafb;\n  max-width: max-content;\n  margin: 0 auto;\n  padding: 0 20px;\n  border-radius: 8px;\n"]))),Je=p.c.div(A||(A=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5px 0 0;\n"]))),qe=p.c.p(L||(L=Object(d.a)(["\n  padding-right: 20px;\n  color: white;\n  @media (max-width: 400px) {\n    margin-right: 20px;\n  }\n"]))),Ke=p.c.div(B||(B=Object(d.a)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: space-between;\n  flex-wrap: wrap;\n"]))),Xe=p.c.div(R||(R=Object(d.a)(["\n  display: flex;\n"]))),Ge=p.c.div(W||(W=Object(d.a)(["\n  display: flex;\n"]))),Qe=Object(o.b)((function(e){return{tempUnit:e.appStore.tempUnit}}),{})((function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){e.city&&e.city.id&&function(){var t=Object(fe.a)(be.a.mark((function t(){var n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"c"!==e.tempUnit){t.next=7;break}return t.next=4,we(e.city.id);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Ce(e.city.id);case 9:t.t0=t.sent;case 10:n=t.t0,i(n.DailyForecasts),t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),Se("forecast data for ".concat(e.city.name));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),0===r.length?Object(ne.jsx)(ze,{children:"Loading Forecast for next 5 Days..."}):Object(ne.jsxs)(He,{children:[r.map((function(e,t){return Object(ne.jsxs)(Je,{children:[Object(ne.jsx)(qe,{children:Ye()(e.Date).format("ddd")}),Object(ne.jsxs)(Ke,{children:[Object(ne.jsxs)(Xe,{children:[Object(ne.jsx)(Ue,{temp:Math.round(e.Temperature.Minimum.Value)}),Object(ne.jsx)(Ie,{idx:e.Night.Icon})]}),Object(ne.jsxs)(Ge,{children:[Object(ne.jsx)(Ue,{temp:Math.round(e.Temperature.Maximum.Value)}),Object(ne.jsx)(Ie,{idx:e.Day.Icon})]})]})]},t)})),Object(ne.jsx)(De,{})]})})),Ze=p.c.div(V||(V=Object(d.a)(["\n  max-width: 1440px;\n  min-height: 85vh;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),$e=p.c.h1(P||(P=Object(d.a)(["\n  font-family: ShadowsIntoLight;\n  letter-spacing: 1.2px;\n"]))),et=p.c.div(Y||(Y=Object(d.a)(["\n  width: 100%;\n  position: relative;\n"]))),tt=p.c.input(z||(z=Object(d.a)(["\n  width: 60%;\n  padding: 10px;\n  margin-bottom: 30px;\n  border-radius: 8px;\n"]))),nt=p.c.div(H||(H=Object(d.a)(["\n  width: 60%;\n  position: absolute;\n  background-color: #1cb6e6;\n  border-color: #183640;\n  border-radius: 8px;\n  left: 20%;\n  top: 40px;\n"]))),rt=p.c.p(J||(J=Object(d.a)(["\n  color: white;\n  font-size: 18px;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),ct=Object(o.b)((function(e){return{favCities:e.appStore.favCities,isDark:e.appStore.isDark}}),{})((function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(!1),s=Object(O.a)(a,2),o=s[0],u=s[1],j=Object(c.useState)(e.favCities[0]||{id:"215854",name:"Tel Aviv"}),p=Object(O.a)(j,2),d=p[0],l=p[1],b=function(){var e=Object(fe.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o||u(!0),!(n=t.target.value)){e.next=13;break}return e.prev=3,e.next=6,ge(n);case 6:r=e.sent,i(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Se("cities list");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(fe.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,r=t.name,l({id:n,name:r}),u(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsxs)(Ze,{children:[Object(ne.jsx)($e,{children:"Always Keeping you Above the Weather"}),Object(ne.jsxs)(et,{children:[Object(ne.jsx)(tt,{type:"text",placeholder:"search a city",onChange:function(e){return b(e)}}),r.length>0&&o&&Object(ne.jsx)(he.a,{onClickAway:function(){return u(!1)},children:Object(ne.jsx)(nt,{children:r.map((function(e,t){return Object(ne.jsx)("div",{className:"city-item",onClick:function(){return f({id:e.Key,name:e.LocalizedName})},children:Object(ne.jsx)(rt,{children:e.LocalizedName})},t)}))})})]}),Object(ne.jsx)(Oe.a,{className:"main-contaier",children:Object(ne.jsxs)(xe.a,{container:!0,spacing:4,alignItems:"center",children:[Object(ne.jsx)(xe.a,{item:!0,xs:12,sm:12,md:12,xl:6,children:Object(ne.jsx)(Ve,{city:d})}),Object(ne.jsx)(xe.a,{item:!0,xs:12,sm:12,md:12,xl:6,children:Object(ne.jsx)(Qe,{city:d})})]})}),Object(ne.jsx)(De,{})]})})),it=p.c.div(q||(q=Object(d.a)(["\n  min-height: 85vh;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),at=p.c.div(K||(K=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  justify-content: center;\n"]))),st=p.c.div(X||(X=Object(d.a)(["\n  min-width: 30%;\n  margin: 0 5%;\n  @media (max-width: 1100px) {\n    margin: 2% 5%;\n  }\n"]))),ot=Object(o.b)((function(e){return{favCities:e.appStore.favCities}}),{})((function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){i(e.favCities)}),[e.favCities]),r.length<1?Object(ne.jsx)(it,{children:Object(ne.jsxs)(at,{children:[Object(ne.jsx)("h2",{children:"Your List is Empty"}),Object(ne.jsxs)("p",{children:["Go back to ",Object(ne.jsx)(u.b,{to:"/",children:"home page"})," and add cities to your favourites"]})]})}):Object(ne.jsx)(it,{children:r.map((function(e){return Object(ne.jsx)(st,{children:Object(ne.jsx)(Ve,{city:e})})}))})})),ut=p.c.h3(G||(G=Object(d.a)(["\n  color: ",";\n  padding: 20px;\n  margin: 0;\n"])),h),jt=function(){return Object(ne.jsx)(ut,{children:"Created by Oshri Hayke for Herolo"})};n(92);var pt=Object(o.b)((function(e){return{isDark:e.appStore.isDark}}),{})((function(e){var t=e.isDark;return Object(ne.jsxs)(p.a,{theme:t?b:f,children:[Object(ne.jsx)(l,{}),Object(ne.jsx)("div",{className:"App",children:Object(ne.jsxs)(u.a,{children:[Object(ne.jsx)(de,{}),Object(ne.jsxs)(j.c,{children:[Object(ne.jsx)(j.a,{path:"/",exact:!0,children:Object(ne.jsx)(ct,{})}),Object(ne.jsx)(j.a,{path:"/favourites",children:Object(ne.jsx)(ot,{})})]}),Object(ne.jsx)(jt,{})]})})]})})),dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},lt=n(29),bt=n(57),ft=n(58),ht=n(22),Ot=function(){var e=decodeURIComponent(document.cookie),t=Object.fromEntries(e.split("; ").map((function(e){return e.split("=")})));return{isDark:t.isDark,tempUnit:t.tempUnit,favCities:t.favCities}}(),xt=Ot.favCities,mt=Ot.tempUnit,vt=Ot.isDark,gt=!!vt&&JSON.parse(vt),yt=mt||"c",wt={favCities:xt?JSON.parse(xt):[],tempUnit:yt,isDark:gt},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return Object(ht.a)(Object(ht.a)({},e),{},{favCities:[].concat(Object(ft.a)(e.favCities),[t.city])});case"REMOVE_CITY":return Object(ht.a)(Object(ht.a)({},e),{},{favCities:e.favCities.filter((function(e){return e.id!==t.id}))});case"SET_UNIT":return Object(ht.a)(Object(ht.a)({},e),{},{tempUnit:t.unit});case"SET_MODE":return Object(ht.a)(Object(ht.a)({},e),{},{isDark:t.isDark});default:return e}},kt=Object(lt.b)({appStore:Ct}),Dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||lt.c,St=Object(lt.d)(kt,Dt(Object(lt.a)(bt.a)));s.a.render(Object(ne.jsx)(i.a.StrictMode,{children:Object(ne.jsx)(o.a,{store:St,children:Object(ne.jsx)(pt,{})})}),document.getElementById("root")),dt()}},[[93,1,2]]]);
//# sourceMappingURL=main.c0a7dba0.chunk.js.map